{% extends "::layout.html.twig" %}

{% block section %}
    <li>Administration</li>
    <li>Edit post</li>
{% endblock %}

{% block page_content %}
    <h2>Edit post</h2>
    <div class="form-container">
        <form action="{{ url('edit_post', { 'postId': post.id }) }}" method="post" class="bs-example form-horizontal">
            <fieldset>
                <div class="form-group">
                    <label for="title" class="col-lg-2 control-label">Title</label>
                    <div class="col-lg-10">
                        <input type="text" class="form-control" id="title" name="title" required="required" value="{{ post.title }}" placeholder="Enter post's title">
                    </div>
                </div>
                <div class="form-group">
                    <label for="category" class="col-lg-2 control-label">Category</label>
                    <div class="col-lg-10">
                        <select id="category" class="form-control" name="category">
                            {% for category in categories %}
                                <option value="{{ category.id }}" {% if category.id == post.category.id %}SELECTED{% endif %}>{{ category.title | capitalize }}</option>
                            {% endfor %}
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label for="content" class="col-lg-2 control-label">Content</label>
                    <div class="col-lg-10">
                        <textarea id="content" name="content" class="ckeditor">{{ post.content }}</textarea>
                    </div>
                </div>
                <div class="form-group">
                    <label for="status" class="col-lg-2 control-label">Status</label>
                    <div class="col-lg-10">
                        <select id="status" class="form-control" name="status">
                            <option value="1" {% if post.status == 1 %}SELECTED{% endif %}>Published</option>
                            <option value="2" {% if post.status == 2 %}SELECTED{% endif %}>Not published</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-lg-10 col-lg-offset-2">
                        <button type="submit" id="submit" name="submit" class="btn btn-primary">Modify</button>
                    </div>
                </div>
            </fieldset>
        </form>
    </div>
{% endblock %}

{% block javascripts %}
    <script src="{{ asset('bundles/blogmain//ckeditor/ckeditor.js') }}"></script>
    <script src="{{ asset('bundles/blogmain//ckeditor/adapters/jquery.js') }}"></script>

{% endblock %}
